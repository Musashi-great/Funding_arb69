<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Compare funding rates across multiple exchanges to identify arbitrage opportunities">
    <title>Funding Rate Arbitrage | Multi-Exchange Comparison</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Full Screen Loading Overlay -->
    <div id="fullLoading" class="full-loading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading data...</h2>
            <p id="loadingStatus">Collecting exchange data...</p>
        </div>
    </div>

    <div class="container" id="mainContent" style="display: none;">
        <header>
            <h1>Funding Rate Arbitrage</h1>
        </header>

        <div id="topArbitrage" class="top-arbitrage-container" style="display: none;">
            <div class="top-arbitrage-header">
                <h2 class="top-arbitrage-title">Top 3 Arbitrage Opportunities</h2>
            </div>
            <div class="top-arbitrage-cards">
                <div class="arbitrage-card" id="arbitrageCard1">
                    <div class="card-rank">#1</div>
                    <div class="card-content">
                        <div class="card-ticker">-</div>
                        <div class="card-profit">-</div>
                        <div class="card-apr-value">-</div>
                        <div class="card-strategy">-</div>
                    </div>
                </div>
                <div class="arbitrage-card" id="arbitrageCard2">
                    <div class="card-rank">#2</div>
                    <div class="card-content">
                        <div class="card-ticker">-</div>
                        <div class="card-profit">-</div>
                        <div class="card-apr-value">-</div>
                        <div class="card-strategy">-</div>
                    </div>
                </div>
                <div class="arbitrage-card" id="arbitrageCard3">
                    <div class="card-rank">#3</div>
                    <div class="card-content">
                        <div class="card-ticker">-</div>
                        <div class="card-profit">-</div>
                        <div class="card-apr-value">-</div>
                        <div class="card-strategy">-</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th class="sortable" data-sort="ticker">Symbol</th>
                        <th class="sortable" data-sort="variational">Variational</th>
                        <th class="sortable" data-sort="binance">Binance</th>
                        <th class="sortable" data-sort="bybit">Bybit</th>
                        <th class="sortable" data-sort="hyperliquid">Hyperliquid</th>
                        <th class="sortable" data-sort="lighter">Lighter</th>
                        <th class="sortable" data-sort="strategy">Arbitrage</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be displayed here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Calculator Modal -->
    <div id="calculatorModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Arbitrage Calculator</h2>
                <span class="modal-close" id="modalClose">&times;</span>
            </div>
            <div class="modal-body">
                <div class="calculator-layout">
                    <div class="calculator-inputs">
                        <h3>Input</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="calcPair">Select Pair:</label>
                                <select id="calcPair" class="form-control">
                                    <option value="">Select a pair</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="calcLongExchange">Long Exchange:</label>
                                <select id="calcLongExchange" class="form-control" disabled>
                                    <option value="">Select a pair first</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="calcShortExchange">Short Exchange:</label>
                                <select id="calcShortExchange" class="form-control" disabled>
                                    <option value="">Select a pair first</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="calcPositionSize">Position Size (USDT):</label>
                                <input type="number" id="calcPositionSize" class="form-control" placeholder="e.g., 1000" min="0" step="0.01" value="1000">
                            </div>
                            <div class="form-group">
                                <label for="calcLeverage">Leverage:</label>
                                <input type="number" id="calcLeverage" class="form-control" placeholder="e.g., 1" min="1" max="100" value="1">
                            </div>
                            <div class="form-group">
                                <label for="calcDuration">Holding Period (Hours):</label>
                                <input type="number" id="calcDuration" class="form-control" placeholder="e.g., 8" min="0.01" step="0.01" value="8">
                            </div>
                        </div>
                        <div class="calc-note">
                            <small style="color: #9CA3AF;">?뮕 Results are calculated automatically when you change input values.</small>
                        </div>
                    </div>
                    <div id="calcResult" class="calculator-results">
                        <h3>Calculation Results</h3>
                        <div class="results-grid">
                            <div class="result-card">
                                <div class="result-label">Spread</div>
                                <div id="resultSpread" class="result-value-large">-</div>
                            </div>
                            <div class="result-card">
                                <div class="result-label">Per Funding Profit</div>
                                <div id="resultFundingProfit" class="result-value-large">-</div>
                            </div>
                            <div class="result-card">
                                <div class="result-label">Total Funding Count</div>
                                <div id="resultFundingCount" class="result-value-large">-</div>
                            </div>
                            <div class="result-card">
                                <div class="result-label">Estimated Total Profit</div>
                                <div id="resultTotalProfit" class="result-value-large">-</div>
                            </div>
                            <div class="result-card">
                                <div class="result-label">Estimated Profit Rate</div>
                                <div id="resultProfitRate" class="result-value-large">-</div>
                            </div>
                            <div class="result-card">
                                <div class="result-label">Annualized Rate (APR)</div>
                                <div id="resultAPR" class="result-value-large">-</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=33"></script>
</body>
</html>



